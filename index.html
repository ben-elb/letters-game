<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×›×™×£ ×¢× ×”×-×‘</title>
    
    <!-- ×”×’×“×¨×•×ª ×œ××™×™×¤×•×Ÿ ×›×“×™ ×©×™×¨××” ×›××• ××¤×œ×™×§×¦×™×” -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="××©×—×§ ××•×ª×™×•×ª">

    <!-- ×˜×¢×™× ×ª Tailwind CSS ×œ×¢×™×¦×•×‘ -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ×˜×¢×™× ×ª ××™×™×§×•× ×™× -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* ×× ×™×¢×ª ×‘×—×™×¨×ª ×˜×§×¡×˜ ×›×“×™ ×©×™×¨×’×™×© ×›××• ××¤×œ×™×§×¦×™×” */
        body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            font-family: system-ui, -apple-system, sans-serif;
        }
        
        /* ×”×¡×ª×¨×ª ×¤×¡ ×’×œ×™×œ×” ××‘×œ ××¤×©×•×¨ ×’×œ×™×œ×” */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* ×× ×™××¦×™×•×ª */
        .fade-in { animation: fadeIn 0.3s ease-out; }
        .zoom-in { animation: zoomIn 0.3s ease-out; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body class="bg-blue-50 min-h-screen text-right">

    <!-- ×›×•×ª×¨×ª -->
    <div class="max-w-4xl mx-auto text-center pt-10 pb-6 px-4">
        <h1 class="text-4xl md:text-6xl font-bold text-blue-600 mb-2 drop-shadow-sm">
            ×›Ö¼Öµ×™×£ ×¢Ö´× ×”Ö¸×-×‘ ğŸ¨
        </h1>
        <p class="text-xl text-blue-400 font-medium">
            ×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ××•Ö¹×ª ×›Ö¼Ö°×“Öµ×™ ×œÖ´×©×Ö°×Ö¹×¢Ö· ×•Ö¼×œÖ°×©×‚Ö·×—Öµ×§!
        </p>
    </div>

    <!-- ×œ×•×— ×”××•×ª×™×•×ª -->
    <div id="game-board" class="max-w-5xl mx-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 p-4 pb-20">
        <!-- ×”××•×ª×™×•×ª ×™×•×–×¨×§×• ×œ×›××Ÿ ×“×¨×š JavaScript -->
    </div>

    <!-- ×—×œ×•× ×™×ª (Modal) -->
    <div id="modal" class="fixed inset-0 z-50 hidden bg-black/40 backdrop-blur-sm overflow-y-auto fade-in">
        <div class="flex min-h-full items-center justify-center p-2 sm:p-4">
            <div class="relative w-full max-w-3xl bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300 my-4 zoom-in">
                
                <!-- ×›×¤×ª×•×¨ ×¡×’×™×¨×” -->
                <button onclick="closeModal()" class="absolute top-4 left-4 p-2 bg-red-100 text-red-500 rounded-full hover:bg-red-200 z-20 shadow-sm">
                    <i data-lucide="x" class="w-6 h-6 sm:w-8 sm:h-8"></i>
                </button>

                <!-- ×›×¤×ª×•×¨×™ × ×™×•×•×˜ -->
                <button onclick="navigatePrev(event)" class="absolute top-1/2 right-2 -translate-y-1/2 z-10 p-2 sm:p-4 bg-white/80 text-blue-600 rounded-full shadow-lg border-2 border-blue-200 active:scale-95">
                    <i data-lucide="chevron-right" class="w-8 h-8 sm:w-10 sm:h-10"></i>
                </button>

                <button onclick="navigateNext(event)" class="absolute top-1/2 left-2 -translate-y-1/2 z-10 p-2 sm:p-4 bg-white/80 text-blue-600 rounded-full shadow-lg border-2 border-blue-200 active:scale-95">
                    <i data-lucide="chevron-left" class="w-8 h-8 sm:w-10 sm:h-10"></i>
                </button>

                <!-- ×ª×•×›×Ÿ ×”×—×œ×•× ×™×ª -->
                <div class="flex flex-col items-center p-6 sm:p-12 bg-gradient-to-b from-yellow-50 to-white px-12 sm:px-24">
                    
                    <!-- ×”××•×ª ×”×’×“×•×œ×” -->
                    <div class="text-center w-full mt-4">
                        <div id="modal-letter" class="text-8xl md:text-9xl font-bold text-blue-600 drop-shadow-md select-none"></div>
                        
                        <button onclick="replayLetter()" class="mt-6 flex items-center justify-center gap-2 bg-blue-500 text-white px-6 py-3 rounded-full font-bold text-lg hover:bg-blue-600 shadow-md active:scale-95 mx-auto">
                            <i data-lucide="volume-2" class="w-6 h-6"></i>
                            <span>×”Ö·×©×Ö°×Ö·×¢ ×©××•Ö¼×‘</span>
                        </button>
                    </div>

                    <div class="w-full h-1 bg-blue-100 rounded-full my-8"></div>

                    <!-- ××™×œ×™× -->
                    <div class="w-full">
                        <h3 class="text-center text-xl text-gray-500 mb-6 font-bold" id="modal-subtitle"></h3>
                        <div id="words-container" class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <!-- ×”××™×œ×™× ×™×•×–×¨×§×• ×œ×›××Ÿ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="text-center text-blue-300 py-6 text-sm">
        ×œ×•Ö¹×Ö°×“Ö´×™× ×¢Ö´×‘Ö°×¨Ö´×™×ª ×‘Ö¼Ö°×›Öµ×™×£! ğŸ‡®ğŸ‡±
    </footer>

    <script>
        // × ×ª×•× ×™×
        const alphabetData = [
            { letter: '×', name: '×Ö¸×œÖ¶×£', phonetic: 'Aleph', words: [{ text: '×Ö·×¨Ö°× Ö¸×‘', emoji: 'ğŸ°' }, { text: '×Ö²×‘Ö·×˜Ö¼Ö´×™×—Ö·', emoji: 'ğŸ‰' }, { text: '×Ö·×¨Ö°×™Öµ×”', emoji: 'ğŸ¦' }] },
            { letter: '×‘', name: '×‘Ö¼Öµ×™×ª', phonetic: 'Bet', words: [{ text: '×‘Ö¼Ö·×™Ö´×ª', emoji: 'ğŸ ' }, { text: '×‘Ö¼Ö·× Ö¼Ö¸× Ö¸×”', emoji: 'ğŸŒ' }, { text: '×‘Ö¼Ö·×¨Ö°×•Ö¸×–', emoji: 'ğŸ¦†' }] },
            { letter: '×’', name: '×’Ö¼Ö´×™×Ö¶×œ', phonetic: 'Gimel', words: [{ text: '×’Ö¼Ö¸×Ö¸×œ', emoji: 'ğŸ«' }, { text: '×’Ö¼Ö°×œÖ´×™×“Ö¸×”', emoji: 'ğŸ¦' }, { text: '×’Ö¼Ö´×™×˜Ö¸×¨Ö¸×”', emoji: 'ğŸ¸' }] },
            { letter: '×“', name: '×“Ö¼Ö¸×œÖ¶×ª', phonetic: 'Dalet', words: [{ text: '×“Ö¼Ö¶×œÖ¶×ª', emoji: 'ğŸšª' }, { text: '×“Ö¼Ö¸×’', emoji: 'ğŸŸ' }, { text: '×“Ö¼Ö»×‘Ö¼Ö´×™', emoji: 'ğŸ§¸' }] },
            { letter: '×”', name: '×”Öµ×', phonetic: 'Hay', words: [{ text: '×”Ö·×¨', emoji: 'â›°ï¸' }, { text: '×”Ö¶×œÖ´×™×§×•Ö¹×¤Ö¼Ö°×˜Öµ×¨', emoji: 'ğŸš' }, { text: '×”Ö´×™×¤Ö¼×•Ö¹×¤Ö¼×•Ö¹×˜Ö¸×', emoji: 'ğŸ¦›' }] },
            { letter: '×•', name: '×•Ö¸×™×•', phonetic: 'Vav', words: [{ text: '×•Ö¶×¨Ö¶×“', emoji: 'ğŸŒ¹' }, { text: '×•Ö´×™×œ×•Ö¹×Ÿ', emoji: 'ğŸªŸ' }, { text: '×•Ö·×¤Ö°×œ', emoji: 'ğŸ§‡' }] },
            { letter: '×–', name: '×–Ö·×™Ö´×Ÿ', phonetic: 'Zayin', words: [{ text: '×–Ö°×‘Ö¼×•Ö¼×‘', emoji: 'ğŸª°' }, { text: '×–Ö¶×‘Ö¼Ö°×¨Ö¸×”', emoji: 'ğŸ¦“' }, { text: '×–Ö·×™Ö´×ª', emoji: 'ğŸ«’' }] },
            { letter: '×—', name: '×—Öµ×™×ª', phonetic: '×—Öµ×™×ª', words: [{ text: '×—Ö¸×ª×•Ö¼×œ', emoji: 'ğŸˆ' }, { text: '×—Ö·×œÖ¼×•Ö¹×Ÿ', emoji: 'ğŸªŸ' }, { text: '×—Ö·×Ö¼Ö¸× Ö´×™Ö¼Ö¸×”', emoji: 'ğŸŒ»' }] },
            { letter: '×˜', name: '×˜Öµ×™×ª', phonetic: 'Tet', words: [{ text: '×˜Ö¶×œÖ¶×¤×•Ö¹×Ÿ', emoji: 'â˜ï¸' }, { text: '×˜Ö·×•Ö¼Ö¸×¡', emoji: 'ğŸ¦š' }, { text: '×˜Ö´×™×œ', emoji: 'ğŸš€' }] },
            { letter: '×™', name: '×™×•Ö¹×“', phonetic: 'Yod', words: [{ text: '×™Ö¸×“', emoji: 'âœ‹' }, { text: '×™Ö¸×¨Öµ×—Ö·', emoji: 'ğŸŒ™' }, { text: '×™Ö·× Ö°×©××•Ö¼×£', emoji: 'ğŸ¦‰' }] },
            { letter: '×›', name: '×›Ö¼Ö·×£', phonetic: 'Kaf', words: [{ text: '×›Ö¼Ö·×“Ö¼×•Ö¼×¨', emoji: 'âš½' }, { text: '×›Ö¼Ö¶×œÖ¶×‘', emoji: 'ğŸ•' }, { text: '×›Ö¼×•Ö¹×‘Ö·×¢', emoji: 'ğŸ§¢' }] },
            { letter: '×œ', name: '×œÖ¸×Ö¶×“', phonetic: 'Lah-med', words: [{ text: '×œÖ´×™××•Ö¹×Ÿ', emoji: 'ğŸ‹' }, { text: '×œÖµ×‘', emoji: 'â¤ï¸' }, { text: '×œÖ´×•Ö°×™Ö¸×ªÖ¸×Ÿ', emoji: 'ğŸ‹' }] },
            { letter: '×', name: '×Öµ×', phonetic: 'Mem', words: [{ text: '×Ö°×›×•Ö¹× Ö´×™×ª', emoji: 'ğŸš—' }, { text: '×Ö·×˜Ö¼×•Ö¹×¡', emoji: 'âœˆï¸' }, { text: '×Ö¶×œÖ¶×šÖ°', emoji: 'ğŸ‘‘' }] },
            { letter: '× ', name: '× ×•Ö¼×Ÿ', phonetic: 'Noon', words: [{ text: '× Öµ×¨', emoji: 'ğŸ•¯ï¸' }, { text: '× Ö¸×—Ö¸×©×', emoji: 'ğŸ' }, { text: '× Ö·×¢Ö·×œ', emoji: 'ğŸ‘Ÿ' }] },
            { letter: '×¡', name: '×¡Ö¸×Ö¶×šÖ°', phonetic: '×¡Ö¸×Ö¶×šÖ°', words: [{ text: '×¡×•Ö¼×¡', emoji: 'ğŸ´' }, { text: '×¡Öµ×¤Ö¶×¨', emoji: 'ğŸ“–' }, { text: '×¡Ö»×›Ö¼Ö¸×¨Ö´×™Ö¼Ö¸×”', emoji: 'ğŸ¬' }] },
            { letter: '×¢', name: '×¢Ö·×™Ö´×Ÿ', phonetic: 'Ah-yin', words: [{ text: '×¢Ö·×™Ö´×Ÿ', emoji: 'ğŸ‘ï¸' }, { text: '×¢Öµ×¥', emoji: 'ğŸŒ³' }, { text: '×¢×•Ö¼×’Ö¸×”', emoji: 'ğŸ‚' }] },
            { letter: '×¤', name: '×¤Ö¼Öµ×', phonetic: 'Pay', words: [{ text: '×¤Ö¼Ö´×™×œ', emoji: 'ğŸ˜' }, { text: '×¤Ö¼Ö·×¨Ö°×¤Ö¼Ö·×¨', emoji: 'ğŸ¦‹' }, { text: '×¤Ö¼Ö¶×¨Ö·×—', emoji: 'ğŸŒ¸' }] },
            { letter: '×¦', name: '×¦Ö¸×“Ö´×™', phonetic: '×¦Ö·×“Ö¼Ö´×™×§', words: [{ text: '×¦Ö¸×‘', emoji: 'ğŸ¢' }, { text: '×¦Ö´×¤Ö¼×•Ö¹×¨', emoji: 'ğŸ¦' }, { text: '×¦Ö°×¤Ö·×¨Ö°×“Ö¼Öµ×¢Ö·', emoji: 'ğŸ¸' }] },
            { letter: '×§', name: '×§×•Ö¼×£', phonetic: 'Koof', words: [{ text: '×§×•Ö¹×£', emoji: 'ğŸ’' }, { text: '×§Ö´×™×¤Ö¼×•Ö¹×“', emoji: 'ğŸ¦”' }, { text: '×§Ö·×§Ö°×˜×•Ö¼×¡', emoji: 'ğŸŒµ' }] },
            { letter: '×¨', name: '×¨Öµ×™×©×', phonetic: 'Resh', words: [{ text: '×¨Ö·×›Ö¼Ö¶×‘Ö¶×ª', emoji: 'ğŸš‚' }, { text: '×¨Ö¹××©×', emoji: 'ğŸ—£ï¸' }, { text: '×¨Ö°×Ö°×–×•Ö¹×¨', emoji: 'ğŸš¦' }] },
            { letter: '×©', name: '×©×Ö´×™×Ÿ', phonetic: 'Sheen', words: [{ text: '×©×Ö¶×Ö¶×©×', emoji: 'â˜€ï¸' }, { text: '×©×Ö¸×¢×•Ö¹×Ÿ', emoji: 'âŒš' }, { text: '×©××•Ö¹×§×•Ö¹×œÖ¸×“', emoji: 'ğŸ«' }] },
            { letter: '×ª', name: '×ªÖ¼Ö¸×™×•', phonetic: 'Tav', words: [{ text: '×ªÖ¼Ö·×¤Ö¼×•Ö¼×—Ö·', emoji: 'ğŸ' }, { text: '×ªÖ¼×•Ö¼×ª', emoji: 'ğŸ“' }, { text: '×ªÖ¼Ö´×™× ×•Ö¹×§', emoji: 'ğŸ‘¶' }] }
        ];

        let selectedIndex = null;
        let voices = [];

        // ××ª×—×•×œ ××™×™×§×•× ×™×
        lucide.createIcons();

        // ×˜×¢×™× ×ª ×§×•×œ×•×ª
        function loadVoices() {
            voices = window.speechSynthesis.getVoices();
        }
        window.speechSynthesis.onvoiceschanged = loadVoices;
        loadVoices();

        // ×¤×•× ×§×¦×™×™×ª ×”×§×¨××” ×—×›××”: ×§×•×“× ×× ×¡×” mp3, ×•×× ××™×Ÿ - ×¢×•×‘×¨×ª ×œ××—×©×‘
        function speak(text, filename) {
            window.speechSynthesis.cancel();
            
            // ×‘×“×™×§×” ×× ×¡×•×¤×§ ×©× ×§×•×‘×¥
            if (filename) {
                // ×©×™× ×•×™ × ×ª×™×‘ ×”×ª×™×§×™×™×” ×‘××™×“×ª ×”×¦×•×¨×š
                const audioPath = 'audio/' + filename;
                const audio = new Audio(audioPath);
                
                // ×× ×¡×” ×œ× ×’×Ÿ ××ª ×”×§×•×‘×¥
                const playPromise = audio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        console.log('Playing audio file:', filename);
                    }).catch(error => {
                        // × ×›×©×œ (×›× ×¨××” ×”×§×•×‘×¥ ×œ× ×§×™×™×) - ×—×•×–×¨×™× ×œ-TTS
                        console.log('Audio file not found or failed, using TTS fallback for:', text);
                        speakTTS(text);
                    });
                }
            } else {
                // ×œ× ×¡×•×¤×§ ×©× ×§×•×‘×¥ - ×™×©×¨ ×œ-TTS
                speakTTS(text);
            }
        }

        // ×¤×•× ×§×¦×™×™×ª ×”×¢×–×¨ ×œ×”×§×¨××ª ××—×©×‘
        function speakTTS(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            const isHebrew = /[\u0590-\u05FF]/.test(text);
            const lang = isHebrew ? 'he-IL' : 'en-US';
            const targetVoice = voices.find(v => v.lang.includes(isHebrew ? 'he' : 'en'));
            if (targetVoice) utterance.voice = targetVoice;
            utterance.lang = lang;
            
            if (isHebrew) {
                utterance.pitch = 1.2;
                utterance.rate = 0.8;
            } else {
                utterance.pitch = 1.1;
                utterance.rate = 0.75;
            }
            window.speechSynthesis.speak(utterance);
        }

        // ×™×¦×™×¨×ª ×”×œ×•×—
        const board = document.getElementById('game-board');
        alphabetData.forEach((item, index) => {
            const btn = document.createElement('button');
            btn.className = "bg-white rounded-2xl shadow-lg border-b-4 border-blue-200 active:border-b-0 active:translate-y-1 transition-all duration-150 p-6 flex flex-col items-center justify-center hover:bg-yellow-50 focus:outline-none";
            // ×›××Ÿ ×©×™× ×™× ×• ×œ-mp3
            const audioFilename = `letter_${index + 1}.mp3`;
            btn.onclick = () => openModal(index);
            
            btn.innerHTML = `
                <span class="text-6xl font-bold text-gray-800 mb-2">${item.letter}</span>
                <span class="text-gray-400 text-sm font-medium">${item.name}</span>
            `;
            board.appendChild(btn);
        });

        // ×œ×•×’×™×§×” ×©×œ ×—×œ×•×Ÿ ×§×•×¤×¥ (Modal)
        const modal = document.getElementById('modal');
        const modalLetter = document.getElementById('modal-letter');
        const modalSubtitle = document.getElementById('modal-subtitle');
        const wordsContainer = document.getElementById('words-container');

        function openModal(index) {
            selectedIndex = index;
            updateModalContent();
            modal.classList.remove('hidden');
            
            const item = alphabetData[index];
            const audioFilename = `letter_${index + 1}.mp3`; // ×©×™× ×•×™ ×œ-mp3
            speak(item.phonetic, audioFilename);
        }

        function updateModalContent() {
            if (selectedIndex === null) return;
            const item = alphabetData[selectedIndex];
            
            modalLetter.innerText = item.letter;
            modalSubtitle.innerText = `×Ö´×™×œÖ¼Ö´×™× ×”Ö·×Ö¼Ö·×ªÖ°×—Ö´×™×œ×•Ö¹×ª ×‘Ö¼Ö¸××•Ö¹×ª ${item.letter}:`;
            
            wordsContainer.innerHTML = '';
            item.words.forEach((word, wordIndex) => {
                const wordBtn = document.createElement('button');
                wordBtn.className = "flex flex-col items-center justify-center bg-white p-4 rounded-xl border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 transition-all active:scale-95 shadow-sm";
                
                // ×©×™× ×•×™ ×œ-mp3
                const audioFilename = `word_${selectedIndex + 1}_${wordIndex + 1}.mp3`;
                
                wordBtn.onclick = () => speak(word.text, audioFilename);
                
                wordBtn.innerHTML = `
                    <span class="text-6xl mb-3 filter drop-shadow-sm">${word.emoji}</span>
                    <span class="text-2xl font-bold text-gray-700">${word.text}</span>
                `;
                wordsContainer.appendChild(wordBtn);
            });
        }

        function closeModal() {
            modal.classList.add('hidden');
            selectedIndex = null;
            window.speechSynthesis.cancel();
        }

        function replayLetter() {
            if (selectedIndex !== null) {
                const item = alphabetData[selectedIndex];
                const audioFilename = `letter_${selectedIndex + 1}.mp3`; // ×©×™× ×•×™ ×œ-mp3
                speak(item.phonetic, audioFilename);
            }
        }

        function navigateNext(e) {
            e.stopPropagation();
            if (selectedIndex !== null) {
                selectedIndex = (selectedIndex + 1) % alphabetData.length;
                updateModalContent();
                const item = alphabetData[selectedIndex];
                const audioFilename = `letter_${selectedIndex + 1}.mp3`; // ×©×™× ×•×™ ×œ-mp3
                speak(item.phonetic, audioFilename);
            }
        }

        function navigatePrev(e) {
            e.stopPropagation();
            if (selectedIndex !== null) {
                selectedIndex = (selectedIndex - 1 + alphabetData.length) % alphabetData.length;
                updateModalContent();
                const item = alphabetData[selectedIndex];
                const audioFilename = `letter_${selectedIndex + 1}.mp3`; // ×©×™× ×•×™ ×œ-mp3
                speak(item.phonetic, audioFilename);
            }
        }
    </script>
</body>
</html>
